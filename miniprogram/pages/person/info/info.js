"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
Page({
    data: {
        form: {
            address: '学园都市',
            idcard: '111111111111111111',
            phone: 13111111111,
            name: '御坂御坂',
            code: '',
            email: ''
        },
        idcardRule: {
            regexp: '^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$|^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$',
            message: '无效身份证号'
        },
        canGetCode: true,
        codeBtnText: '获取验证码',
    },
    onInput: function (e) {
        var _a;
        this.setData((_a = {}, _a["form." + e.target.id] = e.detail.value, _a));
    },
    getCode: function () {
        console.log('getCode');
    },
    save: function () {
        var _this = this;
        var arr = Object.entries(this.data.form).map(function (_a) {
            var id = _a[0], value = _a[1];
            var input = _this.selectComponent('#' + id);
            if (input) {
                return input.valid(value);
            }
            else {
                return true;
            }
        });
        Promise.all(arr)
            .then(function () {
            console.log('修改个人信息成功');
        })
            .catch(console.log);
        this.setData({ 'form.code': '' });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImluZm8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFLQSxJQUFJLENBQUM7SUFDRCxJQUFJLEVBQUU7UUFDRixJQUFJLEVBQUU7WUFDRixPQUFPLEVBQUUsTUFBTTtZQUNmLE1BQU0sRUFBRSxvQkFBb0I7WUFDNUIsS0FBSyxFQUFFLFdBQVc7WUFDbEIsSUFBSSxFQUFFLE1BQU07WUFDWixJQUFJLEVBQUUsRUFBRTtZQUNSLEtBQUssRUFBRSxFQUFFO1NBQ1o7UUFDRCxVQUFVLEVBQUU7WUFDUixNQUFNLEVBQUUseUlBQXlJO1lBQ2pKLE9BQU8sRUFBRSxRQUFRO1NBQ3BCO1FBQ0QsVUFBVSxFQUFFLElBQUk7UUFDaEIsV0FBVyxFQUFFLE9BQU87S0FDdkI7SUFDRCxPQUFPLFlBQUMsQ0FBWTs7UUFDaEIsSUFBSSxDQUFDLE9BQVEsV0FBRyxHQUFDLFVBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFJLElBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLE1BQUcsQ0FBQztJQUMvRCxDQUFDO0lBQ0QsT0FBTztRQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUNELElBQUk7UUFBSixpQkFrQkM7UUFqQkcsSUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBa0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBQyxFQUFXO2dCQUFWLFVBQUUsRUFBRSxhQUFLO1lBQ3ZFLElBQU0sS0FBSyxHQUFrQixLQUFJLENBQUMsZUFBZ0IsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFFN0QsSUFBSSxLQUFLLEVBQUU7Z0JBQ1AsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQzdCO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO2FBQ1gsSUFBSSxDQUFDO1lBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM1QixDQUFDLENBQUM7YUFDRCxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXhCLElBQUksQ0FBQyxPQUFRLENBQUMsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOS/ruaUueS4quS6uuS/oeaBr1xyXG4gKi9cclxuaW1wb3J0IHsgSW5wdXRCZWhhdmlvciB9IGZyb20gXCIuLi8uLi8uLi9iZWhhdmlvci9pbnB1dFwiO1xyXG5cclxuUGFnZSh7XHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICAgZm9ybToge1xyXG4gICAgICAgICAgICBhZGRyZXNzOiAn5a2m5Zut6YO95biCJyxcclxuICAgICAgICAgICAgaWRjYXJkOiAnMTExMTExMTExMTExMTExMTExJyxcclxuICAgICAgICAgICAgcGhvbmU6IDEzMTExMTExMTExLFxyXG4gICAgICAgICAgICBuYW1lOiAn5b6h5Z2C5b6h5Z2CJyxcclxuICAgICAgICAgICAgY29kZTogJycsXHJcbiAgICAgICAgICAgIGVtYWlsOiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWRjYXJkUnVsZToge1xyXG4gICAgICAgICAgICByZWdleHA6ICdeWzEtOV1cXFxcZHs3fSgoMFxcXFxkKXwoMVswLTJdKSkoKFswfDF8Ml1cXFxcZCl8M1swLTFdKVxcXFxkezN9JHxeWzEtOV1cXFxcZHs1fVsxLTldXFxcXGR7M30oKDBcXFxcZCl8KDFbMC0yXSkpKChbMHwxfDJdXFxcXGQpfDNbMC0xXSlcXFxcZHszfShbMC05XXxYKSQnLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAn5peg5pWI6Lqr5Lu96K+B5Y+3J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FuR2V0Q29kZTogdHJ1ZSxcclxuICAgICAgICBjb2RlQnRuVGV4dDogJ+iOt+WPlumqjOivgeeggScsXHJcbiAgICB9LFxyXG4gICAgb25JbnB1dChlOiBCYXNlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnNldERhdGEhKHsgW2Bmb3JtLiR7ZS50YXJnZXQuaWR9YF06IGUuZGV0YWlsLnZhbHVlIH0pO1xyXG4gICAgfSxcclxuICAgIGdldENvZGUoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2dldENvZGUnKTtcclxuICAgIH0sXHJcbiAgICBzYXZlKCkge1xyXG4gICAgICAgIGNvbnN0IGFyciA9IE9iamVjdC5lbnRyaWVzPHN0cmluZyB8IG51bWJlcj4odGhpcy5kYXRhLmZvcm0pLm1hcCgoW2lkLCB2YWx1ZV0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSA8SW5wdXRCZWhhdmlvcj50aGlzLnNlbGVjdENvbXBvbmVudCEoJyMnICsgaWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQudmFsaWQodmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgUHJvbWlzZS5hbGwoYXJyKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5L+u5pS55Liq5Lq65L+h5oGv5oiQ5YqfJyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0RGF0YSEoeyAnZm9ybS5jb2RlJzogJycgfSk7XHJcbiAgICB9LFxyXG59KSJdfQ==