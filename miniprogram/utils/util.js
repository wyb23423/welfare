"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constant_1 = require("../constant");
function formatTime(date) {
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute].map(formatNumber).join(':');
}
exports.formatTime = formatTime;
function parseData(v, i) {
    if (i === void 0) { i = 0; }
    v.authentication = Reflect.get(constant_1.AUTHENTICATION, v.authentication) || '未认证';
    v.originImg = v.img;
    v.img = getCompressImg(v.img);
    v.sign = v.sign || 0;
    v.size = v.size || 0;
    v.index = i;
    v.isCollected = !!v.liked;
    return v;
}
exports.parseData = parseData;
function formatNumber(n) {
    var str = n.toString();
    return str[1] ? str : '0' + str;
}
function getCompressImg(src) {
    var i = (src || '').lastIndexOf('.');
    if (i < 0) {
        return '/public/images/23.jpg';
    }
    return src.substring(0, i) + "_" + constant_1.COMPRESS_SIZE + "x" + constant_1.COMPRESS_SIZE + src.substring(i);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx3Q0FBNEQ7QUFFNUQsU0FBZ0IsVUFBVSxDQUFDLElBQVU7SUFDbkMsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2hDLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDbEMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFakMsT0FBTyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzRyxDQUFDO0FBUkQsZ0NBUUM7QUFPRCxTQUFnQixTQUFTLENBQUMsQ0FBbUMsRUFBRSxDQUFhO0lBQWIsa0JBQUEsRUFBQSxLQUFhO0lBQzFFLENBQUMsQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBYyxFQUFFLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxLQUFLLENBQUM7SUFFMUUsQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQ3BCLENBQUMsQ0FBQyxHQUFHLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDO0lBQ3JCLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7SUFDckIsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDWixDQUFDLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBRTFCLE9BQU8sQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQVhELDhCQVdDO0FBRUQsU0FBUyxZQUFZLENBQUMsQ0FBUztJQUM3QixJQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDekIsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNsQyxDQUFDO0FBRUQsU0FBUyxjQUFjLENBQUMsR0FBVztJQUNqQyxJQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ1QsT0FBTyx1QkFBdUIsQ0FBQztLQUNoQztJQUVELE9BQVUsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQUksd0JBQWEsU0FBSSx3QkFBYSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFHLENBQUM7QUFDdkYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFVVEhFTlRJQ0FUSU9OLCBDT01QUkVTU19TSVpFIH0gZnJvbSAnLi4vY29uc3RhbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VGltZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICBjb25zdCBkYXkgPSBkYXRlLmdldERhdGUoKTtcbiAgY29uc3QgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgY29uc3QgbWludXRlID0gZGF0ZS5nZXRNaW51dGVzKCk7XG5cbiAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5XS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKCcvJykgKyAnICcgKyBbaG91ciwgbWludXRlXS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKCc6Jyk7XG59XG5cbi8qKlxuICog5bCG5LuO5pyN5Yqh5Zmo6I635Y+W55qE5pWw5o2u5aSE55CG5oiQ6ZyA6KaB55qE5pWw5o2u5qC85byPXG4gKiBAcGFyYW0gdiDmupDmlbDmja5cbiAqIEBwYXJhbSBpIOa6kOaVsOaNruWcqOaVsOaNruWIl+ihqOS4reeahOe0ouW8lVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRhKHY6IElBY3RpdmUgfCBJQ29tbW9kaXR5IHwgSU1lcmNoYW50LCBpOiBudW1iZXIgPSAwKSB7XG4gIHYuYXV0aGVudGljYXRpb24gPSBSZWZsZWN0LmdldChBVVRIRU5USUNBVElPTiwgdi5hdXRoZW50aWNhdGlvbikgfHwgJ+acquiupOivgSc7XG5cbiAgdi5vcmlnaW5JbWcgPSB2LmltZzsgLy8g5L+d5a2Y5Y6f5aeL5Zu+54mHXG4gIHYuaW1nID0gZ2V0Q29tcHJlc3NJbWcodi5pbWcpOyAvLyDojrflj5bljovnvKnlm77niYfot6/lvoRcbiAgdi5zaWduID0gdi5zaWduIHx8IDA7IC8vIOiuvue9ruW3suWFkeaNoi/lj4LliqDpu5jorqTlgLxcbiAgdi5zaXplID0gdi5zaXplIHx8IDA7IC8vIOiuvue9ruWPr+WFkeaNoi/lj4LliqDpu5jorqTlgLxcbiAgdi5pbmRleCA9IGk7IC8vIOiuvue9rue0ouW8lVxuICB2LmlzQ29sbGVjdGVkID0gISF2Lmxpa2VkOyAvLyDovazljJbmmK/lkKbmlLbol48v5YWz5rOo5a2X5q615ZCNKOivpeWtl+auteaYr+WJjeerr+WujOaIkOWQjuacjeWKoeerr+aJjeWcqOi/lOWbnuaVsOaNruS4rea3u+WKoOeahClcblxuICByZXR1cm4gdjtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG46IG51bWJlcikge1xuICBjb25zdCBzdHIgPSBuLnRvU3RyaW5nKCk7XG4gIHJldHVybiBzdHJbMV0gPyBzdHIgOiAnMCcgKyBzdHI7XG59XG5cbmZ1bmN0aW9uIGdldENvbXByZXNzSW1nKHNyYzogc3RyaW5nKSB7XG4gIGNvbnN0IGkgPSAoc3JjIHx8ICcnKS5sYXN0SW5kZXhPZignLicpO1xuICBpZiAoaSA8IDApIHtcbiAgICByZXR1cm4gJy9wdWJsaWMvaW1hZ2VzLzIzLmpwZyc7XG4gIH1cblxuICByZXR1cm4gYCR7c3JjLnN1YnN0cmluZygwLCBpKX1fJHtDT01QUkVTU19TSVpFfXgke0NPTVBSRVNTX1NJWkV9JHtzcmMuc3Vic3RyaW5nKGkpfWA7XG59XG4iXX0=