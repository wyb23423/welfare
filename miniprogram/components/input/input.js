"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var input_1 = require("../../behavior/input");
Component({
    behaviors: [input_1.default],
    externalClasses: ['custom-class', 'label-class', 'input-class'],
    properties: {
        confirmType: {
            type: String,
            value: 'done'
        },
        type: {
            type: String,
            value: 'text'
        },
        maxlength: {
            type: Number,
            value: 140
        }
    },
    attached: function () {
        var type = this.data.type;
        var currType = ['number', 'idcard', 'digit'].indexOf(type) > -1 ? type : 'text';
        if (type === 'email') {
            this.data.rules.push({
                regexp: /^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/,
                message: '无效的电子邮件'
            });
        }
        else if (type === 'tel') {
            this.data.rules.push({
                regexp: /^1[3456789]\d{9}$/,
                message: '无效手机号'
            });
            currType = 'number';
        }
        this.setData({ currType: currType });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbnB1dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLDhDQUFpRDtBQUVqRCxTQUFTLENBQUM7SUFDTixTQUFTLEVBQUUsQ0FBQyxlQUFhLENBQUM7SUFDMUIsZUFBZSxFQUFFLENBQUMsY0FBYyxFQUFFLGFBQWEsRUFBRSxhQUFhLENBQUM7SUFDL0QsVUFBVSxFQUFFO1FBQ1IsV0FBVyxFQUFFO1lBQ1QsSUFBSSxFQUFFLE1BQU07WUFDWixLQUFLLEVBQUUsTUFBTTtTQUNoQjtRQUNELElBQUksRUFBRTtZQUNGLElBQUksRUFBRSxNQUFNO1lBQ1osS0FBSyxFQUFFLE1BQU07U0FDaEI7UUFDRCxTQUFTLEVBQUU7WUFDUCxJQUFJLEVBQUUsTUFBTTtZQUNaLEtBQUssRUFBRSxHQUFHO1NBQ2I7S0FDSjtJQUNELFFBQVE7UUFDSixJQUFNLElBQUksR0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNwQyxJQUFJLFFBQVEsR0FBVyxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUV4RixJQUFJLElBQUksS0FBSyxPQUFPLEVBQUU7WUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO2dCQUNqQixNQUFNLEVBQUUsMERBQTBEO2dCQUNsRSxPQUFPLEVBQUUsU0FBUzthQUNyQixDQUFDLENBQUM7U0FDTjthQUFNLElBQUksSUFBSSxLQUFLLEtBQUssRUFBRTtZQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7Z0JBQ2pCLE1BQU0sRUFBRSxtQkFBbUI7Z0JBQzNCLE9BQU8sRUFBRSxPQUFPO2FBQ25CLENBQUMsQ0FBQztZQUNILFFBQVEsR0FBRyxRQUFRLENBQUM7U0FDdkI7UUFFRCxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsUUFBUSxVQUFBLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLENBQUM7Q0FDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog6KGo5Y2V57uE5Lu2XHJcbiAqL1xyXG5pbXBvcnQgaW5wdXRCZWhhdmlvciBmcm9tICcuLi8uLi9iZWhhdmlvci9pbnB1dCc7XHJcblxyXG5Db21wb25lbnQoe1xyXG4gICAgYmVoYXZpb3JzOiBbaW5wdXRCZWhhdmlvcl0sXHJcbiAgICBleHRlcm5hbENsYXNzZXM6IFsnY3VzdG9tLWNsYXNzJywgJ2xhYmVsLWNsYXNzJywgJ2lucHV0LWNsYXNzJ10sXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgY29uZmlybVR5cGU6IHtcclxuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgICB2YWx1ZTogJ2RvbmUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0eXBlOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgICAgdmFsdWU6ICd0ZXh0J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWF4bGVuZ3RoOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICAgICAgdmFsdWU6IDE0MFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhdHRhY2hlZCgpIHtcclxuICAgICAgICBjb25zdCB0eXBlOiBzdHJpbmcgPSB0aGlzLmRhdGEudHlwZTtcclxuICAgICAgICBsZXQgY3VyclR5cGU6IHN0cmluZyA9IFsnbnVtYmVyJywgJ2lkY2FyZCcsICdkaWdpdCddLmluZGV4T2YodHlwZSkgPiAtMSA/IHR5cGUgOiAndGV4dCc7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnZW1haWwnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YS5ydWxlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14oW2EtekEtWl18WzAtOV0pKFxcd3xcXC0pK0BbYS16QS1aMC05XStcXC4oW2EtekEtWl17Miw0fSkkLyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfml6DmlYjnmoTnlLXlrZDpgq7ku7YnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3RlbCcpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhLnJ1bGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgcmVnZXhwOiAvXjFbMzQ1Njc4OV1cXGR7OX0kLyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfml6DmlYjmiYvmnLrlj7cnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjdXJyVHlwZSA9ICdudW1iZXInO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXREYXRhKHsgY3VyclR5cGUgfSk7XHJcbiAgICB9XHJcbn0pIl19