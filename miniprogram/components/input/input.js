"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var input_1 = require("../../behavior/input");
Component({
    behaviors: [input_1.default],
    externalClasses: ['custom-class', 'label-class', 'input-class'],
    properties: {
        confirmType: {
            type: String,
            value: 'done'
        },
        type: {
            type: String,
            value: ''
        },
        maxlength: {
            type: Number,
            value: 140
        }
    },
    attached: function () {
        var type = this.data.type;
        var currType = ['number', 'idcard', 'digit'].indexOf(type) > -1 ? type : 'text';
        if (type === 'email') {
            this.data.rules.push({
                id: 'email',
                regexp: /^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/,
                message: '无效的电子邮件'
            });
        }
        else if (type === 'tel') {
            this.data.rules.push({
                id: 'tel',
                regexp: /^1[3456789]\d{9}$/,
                message: '无效手机号'
            });
            currType = 'number';
        }
        this.setData({ currType: currType });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbnB1dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLDhDQUFpRDtBQUVqRCxTQUFTLENBQUM7SUFDTixTQUFTLEVBQUUsQ0FBQyxlQUFhLENBQUM7SUFDMUIsZUFBZSxFQUFFLENBQUMsY0FBYyxFQUFFLGFBQWEsRUFBRSxhQUFhLENBQUM7SUFDL0QsVUFBVSxFQUFFO1FBQ1IsV0FBVyxFQUFFO1lBQ1QsSUFBSSxFQUFFLE1BQU07WUFDWixLQUFLLEVBQUUsTUFBTTtTQUNoQjtRQUNELElBQUksRUFBRTtZQUNGLElBQUksRUFBRSxNQUFNO1lBQ1osS0FBSyxFQUFFLEVBQUU7U0FDWjtRQUNELFNBQVMsRUFBRTtZQUNQLElBQUksRUFBRSxNQUFNO1lBQ1osS0FBSyxFQUFFLEdBQUc7U0FDYjtLQUNKO0lBQ0QsUUFBUTtRQUNKLElBQU0sSUFBSSxHQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3BDLElBQUksUUFBUSxHQUFXLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBRXhGLElBQUksSUFBSSxLQUFLLE9BQU8sRUFBRTtZQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7Z0JBQ2pCLEVBQUUsRUFBRSxPQUFPO2dCQUNYLE1BQU0sRUFBRSwwREFBMEQ7Z0JBQ2xFLE9BQU8sRUFBRSxTQUFTO2FBQ3JCLENBQUMsQ0FBQztTQUNOO2FBQU0sSUFBSSxJQUFJLEtBQUssS0FBSyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztnQkFDakIsRUFBRSxFQUFFLEtBQUs7Z0JBQ1QsTUFBTSxFQUFFLG1CQUFtQjtnQkFDM0IsT0FBTyxFQUFFLE9BQU87YUFDbkIsQ0FBQyxDQUFDO1lBQ0gsUUFBUSxHQUFHLFFBQVEsQ0FBQztTQUN2QjtRQUVELElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxRQUFRLFVBQUEsRUFBRSxDQUFDLENBQUM7SUFDL0IsQ0FBQztDQUNKLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDooajljZXnu4Tku7YsIOS4jeaUr+aMgeWKqOaAgeaUueWPmHR5cGVcclxuICovXHJcblxyXG5pbXBvcnQgaW5wdXRCZWhhdmlvciBmcm9tICcuLi8uLi9iZWhhdmlvci9pbnB1dCc7XHJcblxyXG5Db21wb25lbnQoe1xyXG4gICAgYmVoYXZpb3JzOiBbaW5wdXRCZWhhdmlvcl0sXHJcbiAgICBleHRlcm5hbENsYXNzZXM6IFsnY3VzdG9tLWNsYXNzJywgJ2xhYmVsLWNsYXNzJywgJ2lucHV0LWNsYXNzJ10sXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgY29uZmlybVR5cGU6IHtcclxuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgICB2YWx1ZTogJ2RvbmUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0eXBlOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgICAgdmFsdWU6ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtYXhsZW5ndGg6IHtcclxuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgICAgICB2YWx1ZTogMTQwXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGF0dGFjaGVkKCkge1xyXG4gICAgICAgIGNvbnN0IHR5cGU6IHN0cmluZyA9IHRoaXMuZGF0YS50eXBlO1xyXG4gICAgICAgIGxldCBjdXJyVHlwZTogc3RyaW5nID0gWydudW1iZXInLCAnaWRjYXJkJywgJ2RpZ2l0J10uaW5kZXhPZih0eXBlKSA+IC0xID8gdHlwZSA6ICd0ZXh0JztcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdlbWFpbCcpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhLnJ1bGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaWQ6ICdlbWFpbCcsXHJcbiAgICAgICAgICAgICAgICByZWdleHA6IC9eKFthLXpBLVpdfFswLTldKShcXHd8XFwtKStAW2EtekEtWjAtOV0rXFwuKFthLXpBLVpdezIsNH0pJC8sXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5peg5pWI55qE55S15a2Q6YKu5Lu2J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd0ZWwnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YS5ydWxlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGlkOiAndGVsJyxcclxuICAgICAgICAgICAgICAgIHJlZ2V4cDogL14xWzM0NTY3ODldXFxkezl9JC8sXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5peg5pWI5omL5py65Y+3J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY3VyclR5cGUgPSAnbnVtYmVyJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7IGN1cnJUeXBlIH0pO1xyXG4gICAgfVxyXG59KSJdfQ==