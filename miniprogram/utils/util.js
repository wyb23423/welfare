"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constant_1 = require("../constant");
function formatTime(date) {
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute].map(formatNumber).join(':');
}
exports.formatTime = formatTime;
function parseData(v, i) {
    if (i === void 0) { i = 0; }
    v.authentication = Reflect.get(constant_1.AUTHENTICATION, v.authentication) || '未认证';
    v.originImg = v.img;
    v.img = getCompressImg(v.img);
    v.sign = v.sign || 0;
    v.size = v.size || 0;
    v.index = i;
    return v;
}
exports.parseData = parseData;
function formatNumber(n) {
    var str = n.toString();
    return str[1] ? str : '0' + str;
}
function getCompressImg(src) {
    var i = (src || '').lastIndexOf('.');
    if (i < 0) {
        return '/public/images/23.jpg';
    }
    return src.substring(0, i) + "_" + constant_1.COMPRESS_SIZE + "x" + constant_1.COMPRESS_SIZE + src.substring(i);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx3Q0FBNEQ7QUFFNUQsU0FBZ0IsVUFBVSxDQUFDLElBQVU7SUFDbkMsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2hDLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDbEMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFakMsT0FBTyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzRyxDQUFDO0FBUkQsZ0NBUUM7QUFFRCxTQUFnQixTQUFTLENBQUMsQ0FBYSxFQUFFLENBQWE7SUFBYixrQkFBQSxFQUFBLEtBQWE7SUFDcEQsQ0FBQyxDQUFDLGNBQWMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUFjLEVBQUUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEtBQUssQ0FBQztJQUUxRSxDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFDcEIsQ0FBQyxDQUFDLEdBQUcsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hCLENBQUUsQ0FBQyxJQUFJLEdBQVMsQ0FBRSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7SUFDbkMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQztJQUNyQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztJQUVaLE9BQU8sQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQVZELDhCQVVDO0FBRUQsU0FBUyxZQUFZLENBQUMsQ0FBUztJQUM3QixJQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDekIsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNsQyxDQUFDO0FBRUQsU0FBUyxjQUFjLENBQUMsR0FBVztJQUNqQyxJQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ1QsT0FBTyx1QkFBdUIsQ0FBQztLQUNoQztJQUVELE9BQVUsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQUksd0JBQWEsU0FBSSx3QkFBYSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFHLENBQUM7QUFDdkYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFVVEhFTlRJQ0FUSU9OLCBDT01QUkVTU19TSVpFIH0gZnJvbSAnLi4vY29uc3RhbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VGltZShkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICBjb25zdCBkYXkgPSBkYXRlLmdldERhdGUoKTtcbiAgY29uc3QgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgY29uc3QgbWludXRlID0gZGF0ZS5nZXRNaW51dGVzKCk7XG5cbiAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5XS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKCcvJykgKyAnICcgKyBbaG91ciwgbWludXRlXS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKCc6Jyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURhdGEodjogSUFueU9iamVjdCwgaTogbnVtYmVyID0gMCkge1xuICB2LmF1dGhlbnRpY2F0aW9uID0gUmVmbGVjdC5nZXQoQVVUSEVOVElDQVRJT04sIHYuYXV0aGVudGljYXRpb24pIHx8ICfmnKrorqTor4EnO1xuXG4gIHYub3JpZ2luSW1nID0gdi5pbWc7XG4gIHYuaW1nID0gZ2V0Q29tcHJlc3NJbWcodi5pbWcpO1xuICAoPGFueT52KS5zaWduID0gKDxhbnk+dikuc2lnbiB8fCAwO1xuICB2LnNpemUgPSB2LnNpemUgfHwgMDtcbiAgdi5pbmRleCA9IGk7XG5cbiAgcmV0dXJuIHY7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihuOiBudW1iZXIpIHtcbiAgY29uc3Qgc3RyID0gbi50b1N0cmluZygpO1xuICByZXR1cm4gc3RyWzFdID8gc3RyIDogJzAnICsgc3RyO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wcmVzc0ltZyhzcmM6IHN0cmluZykge1xuICBjb25zdCBpID0gKHNyYyB8fCAnJykubGFzdEluZGV4T2YoJy4nKTtcbiAgaWYgKGkgPCAwKSB7XG4gICAgcmV0dXJuICcvcHVibGljL2ltYWdlcy8yMy5qcGcnO1xuICB9XG5cbiAgcmV0dXJuIGAke3NyYy5zdWJzdHJpbmcoMCwgaSl9XyR7Q09NUFJFU1NfU0laRX14JHtDT01QUkVTU19TSVpFfSR7c3JjLnN1YnN0cmluZyhpKX1gO1xufVxuIl19