"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constant_1 = require("../constant");
function formatTime(date) {
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute].map(formatNumber).join(':');
}
exports.formatTime = formatTime;
function parseData(v) {
    v.authentication = Reflect.get(constant_1.AUTHENTICATION, v.authentication) || '未认证';
    v.img = getCompressImg(v.img);
    v.sign = v.sign || 0;
    v.size = v.size || 0;
    return v;
}
exports.parseData = parseData;
function formatNumber(n) {
    var str = n.toString();
    return str[1] ? str : '0' + str;
}
function getCompressImg(src) {
    var i = src.lastIndexOf('.');
    if (i < 0) {
        return '/public/images/23.jpg';
    }
    return src.substring(0, i) + "_" + constant_1.COMPRESS_SIZE + "x" + constant_1.COMPRESS_SIZE + src.substring(i);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx3Q0FBNEQ7QUFFNUQsU0FBZ0IsVUFBVSxDQUFDLElBQVU7SUFDbkMsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2hDLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDbEMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFakMsT0FBTyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzRyxDQUFDO0FBUkQsZ0NBUUM7QUFFRCxTQUFnQixTQUFTLENBQUMsQ0FBdUI7SUFDL0MsQ0FBQyxDQUFDLGNBQWMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUFjLEVBQUUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxJQUFJLEtBQUssQ0FBQztJQUUxRSxDQUFDLENBQUMsR0FBRyxHQUFHLGNBQWMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDeEIsQ0FBRSxDQUFDLElBQUksR0FBUyxDQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQztJQUNuQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDO0lBRXJCLE9BQU8sQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQVJELDhCQVFDO0FBRUQsU0FBUyxZQUFZLENBQUMsQ0FBUztJQUM3QixJQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDekIsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNsQyxDQUFDO0FBRUQsU0FBUyxjQUFjLENBQUMsR0FBVztJQUNqQyxJQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9CLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNULE9BQU8sdUJBQXVCLENBQUM7S0FDaEM7SUFFRCxPQUFVLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxTQUFJLHdCQUFhLFNBQUksd0JBQWEsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBRyxDQUFDO0FBQ3ZGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBVVRIRU5USUNBVElPTiwgQ09NUFJFU1NfU0laRSB9IGZyb20gJy4uL2NvbnN0YW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRpbWUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XG4gIGNvbnN0IGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7XG4gIGNvbnN0IG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpO1xuXG4gIHJldHVybiBbeWVhciwgbW9udGgsIGRheV0ubWFwKGZvcm1hdE51bWJlcikuam9pbignLycpICsgJyAnICsgW2hvdXIsIG1pbnV0ZV0ubWFwKGZvcm1hdE51bWJlcikuam9pbignOicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRhKHY6IElDb21tb2RpdHkgfCBJQWN0aXZlKSB7XG4gIHYuYXV0aGVudGljYXRpb24gPSBSZWZsZWN0LmdldChBVVRIRU5USUNBVElPTiwgdi5hdXRoZW50aWNhdGlvbikgfHwgJ+acquiupOivgSc7XG5cbiAgdi5pbWcgPSBnZXRDb21wcmVzc0ltZyh2LmltZyk7XG4gICg8YW55PnYpLnNpZ24gPSAoPGFueT52KS5zaWduIHx8IDA7XG4gIHYuc2l6ZSA9IHYuc2l6ZSB8fCAwO1xuXG4gIHJldHVybiB2O1xufVxuXG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobjogbnVtYmVyKSB7XG4gIGNvbnN0IHN0ciA9IG4udG9TdHJpbmcoKTtcbiAgcmV0dXJuIHN0clsxXSA/IHN0ciA6ICcwJyArIHN0cjtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcHJlc3NJbWcoc3JjOiBzdHJpbmcpIHtcbiAgY29uc3QgaSA9IHNyYy5sYXN0SW5kZXhPZignLicpO1xuICBpZiAoaSA8IDApIHtcbiAgICByZXR1cm4gJy9wdWJsaWMvaW1hZ2VzLzIzLmpwZyc7XG4gIH1cblxuICByZXR1cm4gYCR7c3JjLnN1YnN0cmluZygwLCBpKX1fJHtDT01QUkVTU19TSVpFfXgke0NPTVBSRVNTX1NJWkV9JHtzcmMuc3Vic3RyaW5nKGkpfWA7XG59XG4iXX0=