"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var constant_1 = require("../constant");
function formatTime(date) {
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute].map(formatNumber).join(':');
}
exports.formatTime = formatTime;
function parseData(v, i) {
    if (i === void 0) { i = 0; }
    v.authentication = Reflect.get(constant_1.AUTHENTICATION, v.authentication) || '未认证';
    v.originImg = v.img;
    v.img = getCompressImg(v.img);
    v.sign = v.sign || 0;
    v.size = v.size || 0;
    v.index = i;
    return v;
}
exports.parseData = parseData;
function formatNumber(n) {
    var str = n.toString();
    return str[1] ? str : '0' + str;
}
function getCompressImg(src) {
    var i = src.lastIndexOf('.');
    if (i < 0) {
        return '/public/images/23.jpg';
    }
    return src.substring(0, i) + "_" + constant_1.COMPRESS_SIZE + "x" + constant_1.COMPRESS_SIZE + src.substring(i);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx3Q0FBNEQ7QUFFNUQsU0FBZ0IsVUFBVSxDQUFDLElBQVU7SUFDbkMsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2hDLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDbEMsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFakMsT0FBTyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzRyxDQUFDO0FBUkQsZ0NBUUM7QUFFRCxTQUFnQixTQUFTLENBQUMsQ0FBdUIsRUFBRSxDQUFhO0lBQWIsa0JBQUEsRUFBQSxLQUFhO0lBQzlELENBQUMsQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBYyxFQUFFLENBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxLQUFLLENBQUM7SUFFMUUsQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQ3BCLENBQUMsQ0FBQyxHQUFHLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QixDQUFFLENBQUMsSUFBSSxHQUFTLENBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDO0lBQ25DLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7SUFDckIsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFFWixPQUFPLENBQUMsQ0FBQztBQUNYLENBQUM7QUFWRCw4QkFVQztBQUVELFNBQVMsWUFBWSxDQUFDLENBQVM7SUFDN0IsSUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3pCLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDbEMsQ0FBQztBQUVELFNBQVMsY0FBYyxDQUFDLEdBQVc7SUFDakMsSUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDVCxPQUFPLHVCQUF1QixDQUFDO0tBQ2hDO0lBRUQsT0FBVSxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBSSx3QkFBYSxTQUFJLHdCQUFhLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUcsQ0FBQztBQUN2RixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVVUSEVOVElDQVRJT04sIENPTVBSRVNTX1NJWkUgfSBmcm9tICcuLi9jb25zdGFudCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRUaW1lKGRhdGU6IERhdGUpOiBzdHJpbmcge1xuICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICBjb25zdCBob3VyID0gZGF0ZS5nZXRIb3VycygpO1xuICBjb25zdCBtaW51dGUgPSBkYXRlLmdldE1pbnV0ZXMoKTtcblxuICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLm1hcChmb3JtYXROdW1iZXIpLmpvaW4oJy8nKSArICcgJyArIFtob3VyLCBtaW51dGVdLm1hcChmb3JtYXROdW1iZXIpLmpvaW4oJzonKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGF0YSh2OiBJQ29tbW9kaXR5IHwgSUFjdGl2ZSwgaTogbnVtYmVyID0gMCkge1xuICB2LmF1dGhlbnRpY2F0aW9uID0gUmVmbGVjdC5nZXQoQVVUSEVOVElDQVRJT04sIHYuYXV0aGVudGljYXRpb24pIHx8ICfmnKrorqTor4EnO1xuXG4gIHYub3JpZ2luSW1nID0gdi5pbWc7XG4gIHYuaW1nID0gZ2V0Q29tcHJlc3NJbWcodi5pbWcpO1xuICAoPGFueT52KS5zaWduID0gKDxhbnk+dikuc2lnbiB8fCAwO1xuICB2LnNpemUgPSB2LnNpemUgfHwgMDtcbiAgdi5pbmRleCA9IGk7XG5cbiAgcmV0dXJuIHY7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihuOiBudW1iZXIpIHtcbiAgY29uc3Qgc3RyID0gbi50b1N0cmluZygpO1xuICByZXR1cm4gc3RyWzFdID8gc3RyIDogJzAnICsgc3RyO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wcmVzc0ltZyhzcmM6IHN0cmluZykge1xuICBjb25zdCBpID0gc3JjLmxhc3RJbmRleE9mKCcuJyk7XG4gIGlmIChpIDwgMCkge1xuICAgIHJldHVybiAnL3B1YmxpYy9pbWFnZXMvMjMuanBnJztcbiAgfVxuXG4gIHJldHVybiBgJHtzcmMuc3Vic3RyaW5nKDAsIGkpfV8ke0NPTVBSRVNTX1NJWkV9eCR7Q09NUFJFU1NfU0laRX0ke3NyYy5zdWJzdHJpbmcoaSl9YDtcbn1cbiJdfQ==